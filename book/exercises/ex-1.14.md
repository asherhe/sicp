---
tags: difficult-problem
date created: 2022/06/26 9:19:18 pm
date modified: 2022/07/02 10:32:00 pm
---

# Exercise 1.14

> Draw the tree illustrating the process generated by the `count-change` procedure of [[Case Study - Counting Change|Section 1.2.2]] in making change for 11 cents. What are the orders of growth of the space and number of steps used by this process as the amount to be changed increases?

$$
\newcommand{\c}[1]{\texttt{#1}}
\newcommand{\t}[3]{#1\,\cases{#2\\[2px]#3}}
\t{\c{(cc 11 5)}}
{\t{\c{(cc 11 4)}}
{\t{\c{(cc 11 3)}}
{\t{\c{(cc 11 2)}}
{\t{\c{(cc 11 1)}}
{\c{(cc 11 0)}}
{\t{\c{(cc 10 1)}}
{\c{(cc 10 0)}}
{\t{\c{(cc 9 1)}}
{\c{(cc 9 0)}}
{\t{\c{(cc 8 1)}}
{\c{(cc 8 0)}}
{\t{\c{(cc 7 1)}}
{\c{(cc 7 0)}}
{\t{\c{(cc 6 1)}}
{\c{(cc 6 0)}}
{\t{\c{(cc 5 1)}}
{\c{(cc 5 0)}}
{\t{\c{(cc 4 1)}}
{\c{(cc 4 0)}}
{\t{\c{(cc 3 1)}}
{\c{(cc 3 0)}}
{\t{\c{(cc 2 1)}}
{\c{(cc 2 0)}}
{\t{\c{(cc 1 1)}}
{\c{(cc 1 0)}}
{\c{(cc 0 1)}}}}}}}}}}}}}
{\t{\c{(cc 6 2)}}
{\t{\c{(cc 6 1)}}
{\c{(cc 6 0)}}
{\t{\c{(cc 5 1)}}
{\c{(cc 5 0)}}
{\t{\c{(cc 4 1)}}
{\c{(cc 4 0)}}
{\t{\c{(cc 3 1)}}
{\c{(cc 3 0)}}
{\t{\c{(cc 2 1)}}
{\c{(cc 2 0)}}
{\t{\c{(cc 1 1)}}
{\c{(cc 1 0)}}
{\c{(cc 0 1)}}}}}}}}
{\t{\c{(cc 1 2)}}
{\t{\c{(cc 1 1)}}
{\c{(cc 1 0)}}
{\c{(cc 0 1)}}}
{\c{(cc -4 2)}}}}}
{\t{\c{(cc 1 3)}}
{\t{\c{(cc 1 2)}}
{\t{\c{(cc 1 1)}}
{\c{(cc 1 0)}}
{\c{(cc 0 1)}}}
{\c{(cc -4 2)}}}
{\c{(cc -9 3)}}}}
{\c{(cc -14 4)}}}
{\c{(cc -39 5)}}
$$

So as we can see we have a giant monster of a tree.

To calculate the [[Order of Growth]], let's count how function calls $C(a,c)$ scale. The final amount we will be getting at is an expression for $C(a,5)$.

$c=5$ is *way* too much, so let's take a step back and consider one type of coin.

Shown below is the tree for $C(4,1)$:

$$
\t{C(4,1)}
{C(4,0)}
{\t{C(3,1)}
{C(3,0)}
{\t{C(2,1)}
{C(2,0)}
{\t{C(1,1)}
{C(1,0)}
{C(0,1)}}}}
$$

As we can see things dwindle down until we hit the base case of $a=0$

$$
\t{C(a,1)}{C(a,0)}{\t{C(a-1,1)}{C(a-1,0)}{\cdots}}
$$

Therefore

$$
C(a,1)=\begin{cases}
1&x<0\\
2a+1&\text{otherwise}\end{cases}
$$

Now let's consider $c=2$.

By definition, $C(a,2)=C(a,1)+C(a-5,2)$. And don't forget that if $a\le0$ then $C(a,c)=1$. So this is a little complicated.

$C(a,2)$ goes through $\left\lceil\frac a5\right\rceil+1$ of $C(a-1,2)$ calls before reacing the base case of $a\le0$.

(For the sake of brevity, any time you see $a/b$ from now on, it means $\left\lceil\frac ab\right\rceil$)

So let's compute $C(23,2)$ just to get a sense of what's going on

$$
\t{C(23,2)}
{C(23,1)=47}
{\t{C(18,2)}
{C(18,1)=37}
{\t{C(13,2)}
{C(13,1)=37}
{\t{C(8,2)}
{C(8,1)=17}
{\t{C(3,2)}
{C(3,1)=7}
{C(-2,2)}}}}}
$$

From this we see that

$$
\begin{align*}
C(a,2)&=1+\sum_{i=0}^{a/5-1}C(a-5i,1)+1\\
&=1+\sum_{i=0}^{a/5-1}2(a-5i)+2\\
&=1+2\sum_{i=0}^{a/5-1}a-5i+1\\
&=1+2\left(a/5(a+1)-5\sum_{i=0}^{a/5-1}i\right)\\
&=1+2\left(a/5(a+1)-\frac{5(a/5-1)(a/5)}2\right)\\
&=1+\frac25a\left(a+1-\frac{a-5}2\right)&\left(\text{For our purposes }a/b=\frac ab\right)\\
&=1+\frac a5(2a+2-a+5)\\
&=1+\frac a5(a+7)\\
&=1+\frac75a+\frac15a^2
\end{align*}
$$

So for $c=2$ the order of growth is $\Theta(n^2)$ which is already getting pretty bad.

Actually since we're dealing with orders of growth anyways the lower-power terms have no significance so let's throw those away. Also, the leading constant makes no difference either so for our purposes we just have $a^2$.

Now if we take $c=3$ our situation is a bit similar to $c=2$

$$
\t{C(36,3)}
{C(36,2)}
{\t{C(26,3)}
{C(26,2)}
{\t{C(16,3)}
{C(16,2)}
{\t{C(6,3)}
{C(6,2)}
{C(-4,3)}}}}
$$

Again we have a function that dwindles itself down, spawning calls of a lower order in the process.

So,

$$
\begin{align*}
C(a,3)&\approx\sum_{i=0}^{a/10-1}C(a-10i,2)+1&\text{(You know what? Forget that 1)}\\
&\approx\sum_{i=0}^{a/10-1}(a-10i)^2&\text{(That constant also doesn't matter enough)}\\
&\approx\sum_{i=a/10}^{0}(10i)^2&\text{(It's approximately the same idea so we'll be fine)}\\
&\approx\frac{100}6\left(\frac a{10}\right)\left(\frac a{10}+1\right)\left(\frac a5+1\right)\\
&\approx a^3&\text{We're describing the rate of growth, not the actual operations}
\end{align*}
$$

Now you can see where this is going. At each level, each sublevel is repeated on the order of $a$ times, which increases the exponent. That means that for $c=5$, our order of growth is

$$
\Huge{\Theta(n^5)}
$$

Which is actually very slow.
